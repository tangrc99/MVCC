<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MVCC: mvcc::op::Transaction Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MVCC
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>mvcc</b></li><li class="navelem"><b>op</b></li><li class="navelem"><a class="el" href="classmvcc_1_1op_1_1_transaction.html">Transaction</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classmvcc_1_1op_1_1_transaction-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">mvcc::op::Transaction Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classmvcc_1_1op_1_1_transaction.html" title="Transaction describes a read-committed isolation transaction. Generated by OpCoordinator.">Transaction</a> describes a read-committed isolation transaction. Generated by <a class="el" href="classmvcc_1_1_op_coordinator.html" title="Global transaction coordinator.">OpCoordinator</a>.  
 <a href="classmvcc_1_1op_1_1_transaction.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_operation_8h_source.html">Operation.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a88e78a4e19dfec87163182b0ef7b3008"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmvcc_1_1op_1_1_transaction.html#a88e78a4e19dfec87163182b0ef7b3008">Transaction</a> (const <a class="el" href="classmvcc_1_1_version.html">Version</a> &amp;version)</td></tr>
<tr class="separator:a88e78a4e19dfec87163182b0ef7b3008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefc8be6fe4cd6227cac535259a9c2008"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmvcc_1_1op_1_1_transaction.html#aefc8be6fe4cd6227cac535259a9c2008">appendOperation</a> (<a class="el" href="classmvcc_1_1_value.html">Value</a> *node, const std::string &amp;value)</td></tr>
<tr class="separator:aefc8be6fe4cd6227cac535259a9c2008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a86ec0762fb63fb6e5f6a4bab64acde"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmvcc_1_1op_1_1_transaction.html#a4a86ec0762fb63fb6e5f6a4bab64acde">tryCommit</a> ()</td></tr>
<tr class="separator:a4a86ec0762fb63fb6e5f6a4bab64acde"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p ><a class="el" href="classmvcc_1_1op_1_1_transaction.html" title="Transaction describes a read-committed isolation transaction. Generated by OpCoordinator.">Transaction</a> describes a read-committed isolation transaction. Generated by <a class="el" href="classmvcc_1_1_op_coordinator.html" title="Global transaction coordinator.">OpCoordinator</a>. </p>
<p >Class <a class="el" href="classmvcc_1_1op_1_1_bulk_write_operation.html" title="BulkWriteOperation derived from Operation. Generated by OpCoordinator.">BulkWriteOperation</a> is an abstract of transaction process. User should firstly use function appendOperation to append write operation to this impl and then use function tryCommit to end transaction. Every write operation will shares the same version. </p><dl class="section note"><dt>Note</dt><dd><a class="el" href="classmvcc_1_1op_1_1_transaction.html" title="Transaction describes a read-committed isolation transaction. Generated by OpCoordinator.">Transaction</a> process will be shutdown when facing an error and rollback. </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a88e78a4e19dfec87163182b0ef7b3008" name="a88e78a4e19dfec87163182b0ef7b3008"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88e78a4e19dfec87163182b0ef7b3008">&#9670;&nbsp;</a></span>Transaction()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">mvcc::op::Transaction::Transaction </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classmvcc_1_1_version.html">Version</a> &amp;&#160;</td>
          <td class="paramname"><em>version</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >Construct a <a class="el" href="classmvcc_1_1op_1_1_transaction.html" title="Transaction describes a read-committed isolation transaction. Generated by OpCoordinator.">Transaction</a> impl. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">version</td><td>Assigned version </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="aefc8be6fe4cd6227cac535259a9c2008" name="aefc8be6fe4cd6227cac535259a9c2008"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefc8be6fe4cd6227cac535259a9c2008">&#9670;&nbsp;</a></span>appendOperation()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mvcc::op::Transaction::appendOperation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmvcc_1_1_value.html">Value</a> *&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Append write operation to this operation stream. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Node to write </td></tr>
    <tr><td class="paramname">value</td><td><a class="el" href="classmvcc_1_1_value.html" title="Provide a unified view of a ValueNode list.">Value</a> to write </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4a86ec0762fb63fb6e5f6a4bab64acde" name="a4a86ec0762fb63fb6e5f6a4bab64acde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a86ec0762fb63fb6e5f6a4bab64acde">&#9670;&nbsp;</a></span>tryCommit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mvcc::op::Transaction::tryCommit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Try do and commit this transaction. If an error occurs, all transaction will rollback. </p><dl class="section return"><dt>Returns</dt><dd>Is committed </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="_operation_8h_source.html">Operation.h</a></li>
<li>Operation.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
